<div class="max-w-xl mx-auto px-4">
  <h1 class="text-lg font-semibold mb-2">料理記録の編集</h1>

  <% if @cooking_record.errors.any? %>
    <ul>
      <% @cooking_record.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>

  <%= form_with model: @cooking_record, class: "space-y-4" do |f| %>
    <% if @cooking_record.photo.attached? %>
      <div>
        <p class="text-base font-bold">料理写真</p>
        <%= image_tag @cooking_record.photo, class: "mt-2 w-full rounded-md object-cover" %>
        <%= link_to "画像を削除", destroy_photo_cooking_record_path(@cooking_record), data: { turbo_method: :delete, turbo_confirm: "画像を削除しますか？" }, class: "mt-2 py-3 block w-full flex items-center justify-center rounded-md font-bold bg-gray-200 text-[#D32F2F]" %> </div>
    <% end %>

    <div>
      <%= f.label :photo, '写真の差し替え', class: "text-base font-bold" %><br>
      <%= f.file_field :photo, accept: "image/jpeg,image/heic,image/heif", data: { controller: "heic-convert", "heic-convert-target": "input", action: "change->heic-convert#convert" }, class: "w-full mt-2 p-3 rounded-md text-sm bg-gray-200" %>
      <p class="text-sm mt-1">
        <span class="block text-gray-500">.jpg / .jpeg もしくは .heic /.heif ファイルを選択できます。</span>
        <span class="block text-[#B94043]">1つのファイルのみ選択でき、最大サイズは10MBです</span>
      </p>
    </div>

    <div>
      <%= f.label :cooked_on, '作った日', class: "text-base font-bold" %><br>
      <%= f.date_field :cooked_on, class: "w-full mt-2 p-3 rounded-md text-base bg-gray-200 text-gray-700" %>
    </div>

    <div>
      <%= f.label :dish_name, '料理名', class: "text-base font-bold" %><br>
      <%= f.text_field :dish_name, class: "w-full mt-2 p-3 rounded-md text-base bg-gray-200" %>
    </div>

    <div>
      <%= f.label :recipe_url, '参考レシピ（URL）', class: "text-base font-bold" %><br>
      <%= f.text_field :recipe_url, class: "w-full mt-2 p-3 rounded-md text-base bg-gray-200" %>
    </div>

    <div>
      <%= f.label :memo, 'メモ', class: "text-base font-bold" %><br>
      <%= f.text_area :memo, rows: 5, class: "w-full mt-2 p-3 rounded-md text-base bg-gray-200" %>
    </div>

    <div>
      <%= f.submit '保存する', class: "mt-4 py-3 block w-full max-w-xl mx-auto flex items-center justify-center rounded-md font-bold text-white bg-[#FFC943]" %>
    </div>
  <% end %>
  <%= link_to '戻る', cooking_record_path(@cooking_record), class: "mt-4 py-3 block w-full max-w-xl mx-auto flex items-center justify-center rounded-md font-bold text-white bg-[#212121]" %>
</div>
